
<section class="new-video-rewies">
  <h2 class="new-video-rewies__title">Pogledajte kako drugi obo≈æavaju svoje NORIKS bokserice</h2>

  <div class="new-video-rewies__slider">

    <!-- Card 1 -->
    <div class="new-video-rewies__card">
      <div class="new-video-rewies__video-box">
        <video preload="metadata" playsinline disablepictureinpicture
          poster="https://noriks.com/hr/wp-content/uploads/2025/12/ugc1.png">
          <source src="https://noriks.com/hr/wp-content/uploads/2025/12/ugc_1.mp4" type="video/mp4">
        </video>
        <span class="new-video-rewies__play-btn"></span>
      </div>
      <div class="new-video-rewies__content">
        <div class="new-video-rewies__header">
          <!--<img class="new-video-rewies__avatar" src="https://noriks.com/hr/wp-content/uploads/2025/12/dario_profilna.jpg">-->
          <div>
            <strong>Filip P.</strong>
            <!--<span class="new-video-rewies__time">4h ago</span>-->
          </div>
        </div>
        <p class="new-video-rewies__hashtag">#NORIKS</p>
        <div class="new-video-rewies__footer">
          <span>üëç‚ù§Ô∏è 4.3k</span>
         <!-- <span>9 Comments</span>-->
        </div>
      </div>
    </div>

    <!-- Card 2 -->
    <div class="new-video-rewies__card">
      <div class="new-video-rewies__video-box">
        <video preload="metadata" playsinline disablepictureinpicture
          poster="https://noriks.com/hr/wp-content/uploads/2025/12/ugc2.png">
          <source src="https://noriks.com/hr/wp-content/uploads/2025/12/ugc_2.mp4" type="video/mp4">
        </video>
        <span class="new-video-rewies__play-btn"></span>
      </div>
      <div class="new-video-rewies__content">
        <div class="new-video-rewies__header">
          <!--<img class="new-video-rewies__avatar" src="https://noriks.com/hr/wp-content/uploads/2025/12/dario_profilna.jpg">-->
          <div>
            <strong>Petar S.</strong>
            <!--<span class="new-video-rewies__time">16h ago</span>-->
          </div>
        </div>
        <p class="new-video-rewies__hashtag">#NORIKS</p>
        <div class="new-video-rewies__footer">
          <span>üëç‚ù§Ô∏è 1.5k</span>
         <!-- <span>13 Comments</span>-->
        </div>
      </div>
    </div>

    <!-- Card 3 -->
    <div class="new-video-rewies__card">
      <div class="new-video-rewies__video-box">
        <video preload="metadata" playsinline disablepictureinpicture
          poster="https://noriks.com/hr/wp-content/uploads/2025/12/ugc3.png">
          <source src="https://noriks.com/hr/wp-content/uploads/2025/12/ugc_3.mp4" type="video/mp4">
        </video>
        <span class="new-video-rewies__play-btn"></span>
      </div>
      <div class="new-video-rewies__content">
        <div class="new-video-rewies__header">
         <!-- <img class="new-video-rewies__avatar" src="https://noriks.com/hr/wp-content/uploads/2025/12/dario_profilna.jpg">-->
          <div>
           <strong>Luka M.</strong>
            <!--<span class="new-video-rewies__time">1d ago</span>-->
          </div>
        </div>
        <p class="new-video-rewies__hashtag">#NORIKS</p>
        <div class="new-video-rewies__footer">
          <span>üëç‚ù§Ô∏è 542</span>
         <!-- <span>4 Comments</span>-->
        </div>
      </div>
    </div>
    
    
       <!-- Card 1 -->
    <div class="new-video-rewies__card">
      <div class="new-video-rewies__video-box">
        <video preload="metadata" playsinline disablepictureinpicture
          poster="https://noriks.com/hr/wp-content/uploads/2025/12/ugc4.png">
          <source src="https://noriks.com/hr/wp-content/uploads/2025/12/ugc_4.mp4" type="video/mp4">
        </video>
        <span class="new-video-rewies__play-btn"></span>
      </div>
      <div class="new-video-rewies__content">
        <div class="new-video-rewies__header">
       <!--   <img class="new-video-rewies__avatar" src="https://noriks.com/hr/wp-content/uploads/2025/12/dario_profilna.jpg">-->
          <div>
            <strong>Marko M.</strong>
           <!-- <span class="new-video-rewies__time">4h ago</span>-->
          </div>
        </div>
        <p class="new-video-rewies__hashtag">#NORIKS</p>
        <div class="new-video-rewies__footer">
          <span>üëç‚ù§Ô∏è 667</span>
       <!--   <span>9 Comments</span>-->
        </div>
      </div>
    </div>

    <!-- Card 2 -->
    <div class="new-video-rewies__card">
      <div class="new-video-rewies__video-box">
        <video preload="metadata" playsinline disablepictureinpicture
          poster="https://noriks.com/hr/wp-content/uploads/2025/12/ugc5.png">
          <source src="https://noriks.com/hr/wp-content/uploads/2025/12/ugc_5.mp4" type="video/mp4">
        </video>
        <span class="new-video-rewies__play-btn"></span>
      </div>
      <div class="new-video-rewies__content">
        <div class="new-video-rewies__header">
          <!--<img class="new-video-rewies__avatar" src="https://noriks.com/hr/wp-content/uploads/2025/12/dario_profilna.jpg">-->
          <div>
           <strong>Ivan O.</strong>
            <!--<span class="new-video-rewies__time">16h ago</span>-->
          </div>
        </div>
        <p class="new-video-rewies__hashtag">#NORIKS</p>
        <div class="new-video-rewies__footer">
          <span>üëç‚ù§Ô∏è 2.3k</span>
         <!-- <span>13 Comments</span>-->
        </div>
      </div>
    </div>

    
    
   

  </div>
  
  
  <div class="new-video-rewies__pagination">
  <button class="new-video-rewies__arrow new-video-rewies__arrow--left">
    ‚ùÆ
  </button>

  <div class="new-video-rewies__dots">
     <span class="new-video-rewies__dot is-active"></span>
    <span class="new-video-rewies__dot"></span>
    <span class="new-video-rewies__dot"></span>
    <span class="new-video-rewies__dot"></span>
        <span class="new-video-rewies__dot"></span>
            <span class="new-video-rewies__dot"></span>
  </div>

  <button class="new-video-rewies__arrow new-video-rewies__arrow--right">
    ‚ùØ
  </button>
</div>

  <button class="new-video-rewies__nav new-video-rewies__prev">‚ùÆ</button>
  <button class="new-video-rewies__nav new-video-rewies__next">‚ùØ</button>
</section>




    
    
</section>


<style>
 .new-video-rewies {
  max-width: 1440px;
  margin: auto;
  padding: 0px 20px 30px 20px;
  position: relative;
  margin-top: -30px;
}

.new-video-rewies__title {
  text-align: center;
    color: #222; 
    font-family: 'Barlow', sans-serif; 
    color:#222223;
        font-size: 32px;
    font-weight: 800;
    margin-bottom: 30px;
}

.new-video-rewies__slider {
  display: flex;
  gap: 24px;
  overflow-x: auto;
  scroll-behavior: smooth;
}

.new-video-rewies__card {
  width: 320px;
  flex-shrink: 0;
  background: #fff;
  border-radius: 14px;
  border: 1px solid #e5e5e5;
}

.new-video-rewies__video-box {
  position: relative;
  overflow: hidden;
  border-radius: 14px 14px 0 0;
}

.new-video-rewies__video-box video {
  width: 100%;
  display: block;
}

.new-video-rewies__play-btn {
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.25);
  cursor: pointer;
}

.new-video-rewies__play-btn::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 64px;
  height: 64px;
  background: #f39c12;
  border-radius: 50%;
  transform: translate(-50%, -50%);
}

.new-video-rewies__play-btn::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  border-left: 18px solid #fff;
  border-top: 12px solid transparent;
  border-bottom: 12px solid transparent;
  transform: translate(-40%, -50%);
}

.new-video-rewies__content {
  padding: 16px;
}

.new-video-rewies__header {
  display: flex;
  gap: 10px;
}

.new-video-rewies__avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
}

.new-video-rewies__time {
  font-size: 12px;
  color: #777;
}

.new-video-rewies__hashtag {
  margin: 10px 0;
  font-weight: 600;
}

.new-video-rewies__footer {
  display: flex;
  justify-content: space-between;
  font-size: 13px;
}

.new-video-rewies__nav {
  position: absolute;
  top: 41%;
  transform: translateY(-41%);
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: none;
 background: transparent;
  cursor: pointer;
  font-size: 22px;
    padding: 3px 0px 1px 3px;
}

.new-video-rewies__prev { left: -25px; }
.new-video-rewies__next { right: -25px; }




.new-video-rewies__pagination {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 18px;
  margin-top: 24px;
}

/* arrows */
.new-video-rewies__arrow {
  width: 40px;           /* 48px √ó 3 */
  height: 30px;          /* 48px √ó 3 */
  font-size: 22px;        /* arrow size */
  border-radius: 50%;
  padding: 20px;
}

/* Center arrow glyph */
.new-video-rewies__arrow {
  display: flex;
  align-items: center;
  justify-content: center;
}


.new-video-rewies__arrow--left {
  border-color: #999;

  background: none !important;
  border: none !important;
}

.new-video-rewies__arrow--right {
  border-color: #000;

    background: none !important;
  border: none !important;
}

/* dots */
.new-video-rewies__dots {
  display: flex;
  gap: 8px;
}

.new-video-rewies__dot {
  width: 6px;
  height: 6px;
  background: #bbb;
  border-radius: 50%;
}

.new-video-rewies__dot.is-active {
  background: #000;
}


/* MOBILE PEEK SLIDER */
@media (max-width: 768px) {
    
    
    .new-video-rewies {
  margin-top: 10px;
}
    
    .new-video-rewies__nav {
      display: none;
    }
        
    
  .new-video-rewies__slider {
    padding-left: 0px;      /* keeps first card aligned */
    padding-right: 40px;     /* allows next card to peek */
  }

  .new-video-rewies__card {
    width: 90%;              /* main card size */
   
  }
}


</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const slider = document.querySelector('.new-video-rewies__slider');
  const cards = Array.from(document.querySelectorAll('.new-video-rewies__card'));
  const videoBoxes = document.querySelectorAll('.new-video-rewies__video-box');
  const dots = Array.from(document.querySelectorAll('.new-video-rewies__dot'));

  if (!slider || !cards.length || !dots.length) return;

  const GAP = 24; // must match CSS gap
  const MAX_INDEX = dots.length - 1;
  let currentIndex = 0;

  /* --------------------
     DEVICE MODE
  -------------------- */
  function isDesktop() {
    // if more than 1 card fits ‚Üí desktop
    return slider.offsetWidth > cards[0].offsetWidth * 1.2;
  }

/* --------------------
   VIDEO LOGIC (LOOP ENABLED)
-------------------- */
videoBoxes.forEach(box => {
  const video = box.querySelector('video');
  const playBtn = box.querySelector('.new-video-rewies__play-btn');

  playBtn.addEventListener('click', () => {
    video.loop = true;          // ‚úÖ ENABLE LOOP
    video.play();
    playBtn.style.display = 'none';
  });

  video.addEventListener('click', () => {
    if (video.paused) {
      video.loop = true;        // ‚úÖ ENSURE LOOP ON RESUME
      video.play();
      playBtn.style.display = 'none';
    } else {
      video.pause();
      playBtn.style.display = 'block';
    }
  });

  video.addEventListener('pause', () => {
    playBtn.style.display = 'block';
  });
});

  /* --------------------
     CORE SLIDE LOGIC (ONE CARD)
  -------------------- */
  function cardStep() {
    return cards[0].offsetWidth + GAP;
  }

  function clamp(index) {
    return Math.max(0, Math.min(index, MAX_INDEX));
  }

  function updateDots() {
    dots.forEach(d => d.classList.remove('is-active'));
    dots[currentIndex].classList.add('is-active');
  }

  function scrollToIndex(index) {
    const next = clamp(index);
    if (next === currentIndex) return;

    currentIndex = next;

    slider.scrollTo({
      left: currentIndex * cardStep(),
      behavior: 'smooth'
    });

    updateDots();
  }

  /* --------------------
     ARROWS (TOP + BOTTOM)
  -------------------- */
  [
    document.querySelector('.new-video-rewies__prev'),
    document.querySelector('.new-video-rewies__arrow--left')
  ].filter(Boolean).forEach(btn =>
    btn.addEventListener('click', () => {
      if (currentIndex === 0) return;
      scrollToIndex(currentIndex - 1);
    })
  );

  [
    document.querySelector('.new-video-rewies__next'),
    document.querySelector('.new-video-rewies__arrow--right')
  ].filter(Boolean).forEach(btn =>
    btn.addEventListener('click', () => {
      if (currentIndex === MAX_INDEX) return;
      scrollToIndex(currentIndex + 1);
    })
  );

  /* --------------------
     DOT CLICK
  -------------------- */
  dots.forEach((dot, index) => {
    dot.addEventListener('click', () => scrollToIndex(index));
  });

  /* --------------------
     SCROLL SYNC (MOBILE ONLY)
  -------------------- */
  let ticking = false;

  slider.addEventListener('scroll', () => {
    if (isDesktop()) return; // ‚õî STOP DOT CHANGES ON DESKTOP

    if (!ticking) {
      requestAnimationFrame(() => {
        const index = clamp(Math.round(slider.scrollLeft / cardStep()));
        if (index !== currentIndex) {
          currentIndex = index;
          updateDots();
        }
        ticking = false;
      });
      ticking = true;
    }
  });

  window.addEventListener('resize', () => {
    updateDots();
  });
});
</script>

